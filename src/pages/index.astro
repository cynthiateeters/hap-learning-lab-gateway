---
/**
 * HAP Learning Lab Gateway - Landing Page
 *
 * Central entry point to all HAP Learning Labs.
 * Shows all courses with their labs, projects, and media.
 */

import GatewayLayout from '../layouts/GatewayLayout.astro';
import LabCard from '../components/LabCard.astro';
import { courses, getLabsByCourse, getAllMediaSorted } from '../data/content.js';

const introContent = `
    <p><strong>Welcome to HAP's Learning Lab Gateway!</strong> I'm HAP, Prof. Teeters' apprentice, and this is where all my learning adventures begin.</p>
    <p class="mt-1">Each Learning Lab below is a complete journey—pick one that interests you, and I'll guide you through it step by step. Every lab has 6 stations where I share what I learned, the mistakes I made, and the breakthroughs that helped me understand.</p>
    <p class="mt-1">Prof. Teeters always says the best way to learn is by doing. So let's get started!</p>
`;

// Get labs for each course
const javascriptLabs = getLabsByCourse('javascript');
const webdev2Labs = getLabsByCourse('webdev2');

// Get all media sorted by date (newest first)
const allMedia = getAllMediaSorted();
---

<!--
HAP Educational Content © 2026 Cynthia Teeters. All rights reserved.
HyBit A. ProtoBot (HAP) character and the apprentice learning methodology are proprietary educational innovations.
-->

<GatewayLayout
    title="HAP's Learning Lab Gateway"
    description="Your starting point for hands-on learning with HAP. Explore self-paced Learning Labs on computational thinking, JavaScript, and more."
    headerTitle="HAP's Learning Lab Gateway"
    headerSubtitle="Your starting point for hands-on learning"
    avatarImage="https://res.cloudinary.com/cynthia-teeters/image/upload/f_auto,q_auto,w_200,c_limit/v1759495998/hap-waving_dgzacg.jpg"
    avatarAlt="HAP waving hello and welcoming you to the Gateway"
    introContent={introContent}
    showIntroImage={true}
    introImage="https://res.cloudinary.com/cynthia-teeters/image/upload/f_auto,q_auto,w_240,c_limit/v1759497938/HAP-learner_dvehmt.jpg"
    introImageAlt="HAP ready to learn"
    footerReminder="Every lab is a new adventure. Pick one and start exploring!"
    showCourseNav={true}
>

    <!-- ============================================================
         About the Gateway Section
         ============================================================ -->
    <section class="content-section">
        <div class="topic-section">
            <h2>About the Gateway</h2>

            <div class="analysis-grid">
                <div class="analysis-point">
                    <h3>How it works</h3>
                    <p>Each Learning Lab is self-contained with 6 stations. You can start with any lab that interests you—there's no required order.</p>
                    <p class="mt-1">Just click a lab card below, and I'll walk you through everything.</p>
                </div>

                <div class="analysis-point">
                    <h3>Connected learning</h3>
                    <p>While each lab stands alone, they all build on shared thinking skills. The more labs you explore, the more connections you'll discover.</p>
                    <p class="mt-1">Prof. Teeters designed them to reinforce each other.</p>
                </div>

                <div class="analysis-point">
                    <h3>My philosophy</h3>
                    <p>Mistakes are data, not failures. In every lab, I share the real struggles I faced—the bugs, the confusion, the moments when things finally clicked.</p>
                    <p class="mt-1">We learn better when we see that everyone struggles.</p>
                </div>

                <div class="analysis-point">
                    <h3>Always growing</h3>
                    <p>New labs are added as Prof. Teeters and I explore new topics together. Check back to see what's new!</p>
                    <p class="mt-1">Coming soon cards show what's in development.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- ============================================================
         JavaScript Learning Labs
         ============================================================ -->
    <div class="content-container">
        <section class="content-section">
            <h2 class="section-heading-centered">{courses.javascript.name}</h2>
            <nav aria-label="JavaScript learning labs">
                <div class="overview-grid">
                    {javascriptLabs.map((lab) => (
                        <LabCard {...lab} />
                    ))}
                </div>
            </nav>
        </section>
    </div>

    <!-- ============================================================
         Web Dev 2 Learning Labs
         ============================================================ -->
    {webdev2Labs.length > 0 && (
        <div class="content-container">
            <section class="content-section">
                <h2 class="section-heading-centered">{courses.webdev2.name}</h2>
                <nav aria-label="Web Dev 2 learning labs">
                    <div class="overview-grid">
                        {webdev2Labs.map((lab) => (
                            <LabCard {...lab} />
                        ))}
                    </div>
                </nav>
            </section>
        </div>
    )}

    <!-- ============================================================
         Listen & Watch Section (all media, sorted by date)
         ============================================================ -->
    <div class="content-container">
        <section class="content-section">
            <h2 class="section-heading-centered">Listen & Watch</h2>
            <p class="section-intro">Explore HAP's learning journey through podcasts and videos.</p>
            <nav aria-label="Podcasts and videos">
                <div class="overview-grid">
                    {allMedia.map((item) => (
                        <LabCard {...item} />
                    ))}
                </div>
            </nav>
        </section>
    </div>

    <!-- ============================================================
         HAP's Promise Section
         ============================================================ -->
    <section class="content-section">
        <div class="topic-section">
            <h2>HAP's Promise</h2>

            <div class="hap-note-callout mt-2">
                <img src="https://res.cloudinary.com/cynthia-teeters/image/upload/f_auto,q_auto,w_150,c_limit/v1759495998/HAP-learner_dvehmt.jpg"
                    alt="HAP ready to learn"
                    width="150" height="150" class="hap-note-image" decoding="async" loading="lazy">
                <div class="hap-note-content">
                    <h3>What I promise you:</h3>
                    <p>I won't pretend I know everything. I'm still learning too. What I can promise is that I'll share exactly what helped me—the mistakes, the breakthroughs, the moments when things finally clicked.</p>
                    <p class="mt-1">Prof. Teeters always says: "Understanding how to learn matters more than memorizing what to type." These labs are my learning journey, and I'm excited to share them with you.</p>
                    <p class="mt-1">Pick a lab, dive in, and let's figure this out together!</p>
                </div>
            </div>
        </div>
    </section>

</GatewayLayout>
